<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digital Card</title>
<link rel="icon" type="image/ico" href="favicon.ico">

<style>
/* --- VARIABEL WARNA --- */
:root {
  --bg-color: #e0e5ec;
  --text-main: #4d4d4d;
  --text-sub: #8993a4;
  --shadow-light: #ffffff;
  --shadow-dark: #a3b1c6;
  --accent-red: #ef4444;
  --accent-green: #25D366;
  --accent-blue: #2563eb;
}

* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
  -webkit-tap-highlight-color: transparent; /* Hilangkan highlight biru di mobile */
}

body {
  margin: 0;
  background: var(--bg-color); /* Warna background sama dengan kartu */
  display: flex;
  justify-content: center;
  padding-bottom: 120px;
  color: var(--text-main);
}

/* --- KARTU UTAMA --- */
.card {
  width: 100%;
  max-width: 420px;
  background: var(--bg-color);
  border-radius: 30px;
  /* Neumorphism Shadow: Timbul */
  box-shadow: 9px 9px 16px var(--shadow-dark), 
              -9px -9px 16px var(--shadow-light);
  margin-top: 20px;
  padding-bottom: 30px;
  position: relative;
  overflow: hidden; /* Agar sudut tetap bulat */
}

/* --- HEADER --- */
/* Kita buat header sedikit "tenggelam" atau flat dengan frame */
.header {
  position: relative;
  height: 280px;
  background: var(--bg-color);
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom-left-radius: 30px;
  border-bottom-right-radius: 30px;
  /* Inset shadow lembut untuk memisahkan header */
  box-shadow: inset 5px 5px 10px var(--shadow-dark), 
              inset -5px -5px 10px var(--shadow-light);
  margin: 15px; /* Memberi jarak agar terlihat seperti layar di dalam casing */
  border-radius: 20px;
}

.header img {
  width: 85%;
  max-width: 300px;
  z-index: 2;
  filter: drop-shadow(0px 10px 10px rgba(0,0,0,0.2)); /* Bayangan pada objek gambar */
}

/* --- CONTENT --- */
.content {
  padding: 20px 30px;
}

/* --- NAME + LOGO --- */
.name-wrap {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 35px;
}

.name {
  font-size: 28px;
  font-weight: 700;
  color: var(--text-main);
  padding-left: 20px;
  position: relative;
  margin: 0;
  text-shadow: 1px 1px 1px #fff; /* Efek teks timbul halus */
}

/* Aksen merah di samping nama */
.name:before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 6px;
  height: 80%;
  background: var(--accent-red);
  border-radius: 10px;
  box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
}

/* Frame Logo */
.name-logo {
  padding: 5px;
  border-radius: 18px;
  background: var(--bg-color);
  box-shadow: 5px 5px 10px var(--shadow-dark), 
              -5px -5px 10px var(--shadow-light);
}

.name-logo img {
  width: 50px;
  height: 50px;
  border-radius: 14px;
  object-fit: cover;
  display: block;
}

/* --- ROW (CONTACT LIST) --- */
.row {
  display: flex;
  align-items: center;
  margin-bottom: 25px;
  padding: 15px;
  border-radius: 20px;
  /* Efek timbul halus pada setiap baris kontak */
  box-shadow: 5px 5px 10px var(--shadow-dark), 
              -5px -5px 10px var(--shadow-light);
  transition: transform 0.2s ease;
}

.row:active {
  /* Efek ditekan */
  box-shadow: inset 3px 3px 7px var(--shadow-dark), 
              inset -3px -3px 7px var(--shadow-light);
  transform: scale(0.98);
}

/* Icon Container */
.icon {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--bg-color);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 20px;
  /* Shadow khusus untuk tombol bulat */
  box-shadow: 3px 3px 6px var(--shadow-dark), 
              -3px -3px 6px var(--shadow-light);
  border: 1px solid rgba(255,255,255,0.2);
}

/* Warna icon */
.icon svg {
  width: 24px;
  height: 24px;
  fill: var(--accent-red); /* Icon merah */
  filter: drop-shadow(1px 1px 1px rgba(255,255,255,0.8));
}

.icon.whatsapp svg {
  fill: var(--accent-green); /* Icon WA hijau */
}

.text {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-main);
  text-decoration: none;
}

.sub {
  font-size: 13px;
  color: var(--text-sub);
  margin-top: 4px;
}

/* --- FLOATING SAVE BUTTON --- */
.floating-save {
  position: fixed;
  bottom: 85px;
  width: 100%;
  max-width: 420px;
  display: flex;
  justify-content: center;
  z-index: 999;
  pointer-events: none; /* Agar area kosong tembus klik */
}

.floating-save button {
  pointer-events: auto;
  width: 85%;
  background: var(--bg-color);
  color: var(--accent-red);
  font-weight: 800;
  border: none;
  padding: 18px;
  border-radius: 50px; /* Bentuk Pill */
  font-size: 16px;
  cursor: pointer;
  letter-spacing: 1px;
  /* Timbul kuat */
  box-shadow: 8px 8px 16px var(--shadow-dark), 
              -8px -8px 16px var(--shadow-light);
  transition: all 0.2s ease;
}

.floating-save button:active {
  box-shadow: inset 4px 4px 8px var(--shadow-dark), 
              inset -4px -4px 8px var(--shadow-light);
  color: #c0392b;
}

/* --- FORM OVERLAY (Neumorphic) --- */
.overlay {
  position: fixed;
  inset: 0;
  background: var(--bg-color);
  z-index: 2000;
  display: none;
  flex-direction: column;
}

.overlay-header {
  padding: 30px;
  font-size: 24px;
  font-weight: 700;
  color: var(--text-main);
  text-align: center;
}

.overlay form {
  padding: 0 30px 40px;
}

.field {
  margin-bottom: 25px;
}

.field label {
  font-size: 14px;
  color: var(--text-sub);
  display: block;
  margin-bottom: 10px;
  font-weight: 600;
  margin-left: 10px;
}

.field input {
  width: 100%;
  border: none;
  background: var(--bg-color);
  padding: 16px 20px;
  font-size: 16px;
  border-radius: 50px; /* Input bulat */
  color: var(--text-main);
  outline: none;
  /* INSET SHADOW: Kesan masuk ke dalam */
  box-shadow: inset 6px 6px 12px var(--shadow-dark), 
              inset -6px -6px 12px var(--shadow-light);
  transition: all 0.3s ease;
}

.field input:focus {
  box-shadow: inset 3px 3px 6px var(--shadow-dark), 
              inset -3px -3px 6px var(--shadow-light);
  color: var(--accent-blue);
}

.submit-btn {
  margin-top: 20px;
  width: 100%;
  background: var(--bg-color); /* Warna dasar */
  color: var(--accent-blue);
  border: none;
  padding: 18px;
  font-size: 18px;
  border-radius: 50px;
  font-weight: 800;
  cursor: pointer;
  /* Efek timbul */
  box-shadow: 6px 6px 12px var(--shadow-dark), 
              -6px -6px 12px var(--shadow-light);
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
}

.submit-btn:active {
  box-shadow: inset 4px 4px 8px var(--shadow-dark), 
              inset -4px -4px 8px var(--shadow-light);
}

.submit-btn:disabled {
  color: var(--text-sub);
  cursor: not-allowed;
  box-shadow: none;
  background: #e0e5ec;
  border: 1px solid rgba(255,255,255,0.5);
}

/* Spinner & Loading (Sama seperti sebelumnya tapi disesuaikan warna) */
.spinner {
  display: none;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(37, 99, 235, 0.3);
  border-radius: 50%;
  border-top-color: var(--accent-blue);
  animation: spin 1s ease-in-out infinite;
  margin-right: 10px;
  vertical-align: middle;
}

@keyframes spin { to { transform: rotate(360deg); } }
.submit-btn.loading .spinner { display: inline-block; }

.privacy {
  text-align: center;
  font-size: 12px;
  color: var(--text-sub);
  margin-top: 25px;
}

/* Helper untuk tombol tutup overlay */
.close-overlay {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--bg-color);
  border: none;
  color: var(--text-sub);
  font-weight: bold;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
}
</style>
</head>

<body>

<div class="card">

  <div class="header">
    <img src="https://i.postimg.cc/fL7RP8Cm/Pics-Art-01-03-03-07-40.png" alt="Header Image">
  </div>

  <div class="content">

    <div class="name-wrap">
      <div class="name">Andrea Rey Y</div>
      <div class="name-logo">
        <img src="https://i.postimg.cc/ZRXXrmpV/my-logo-gen-3.jpg" alt="Logo">
      </div>
    </div>

    <a href="tel:+628996977888" style="text-decoration:none">
      <div class="row">
        <div class="icon">
          <svg viewBox="0 0 24 24">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2
            19.86 19.86 0 0 1-8.63-3.07
            19.5 19.5 0 0 1-6-6
            19.86 19.86 0 0 1-3.07-8.67
            A2 2 0 0 1 4.11 2h3
            a2 2 0 0 1 2 1.72
            c.12.9.3 1.77.57 2.6
            a2 2 0 0 1-.45 2.11L8.09 9.91
            a16 16 0 0 0 6 6
            l1.48-1.48
            a2 2 0 0 1 2.11-.45
            c.83.27 1.7.45 2.6.57
            A2 2 0 0 1 22 16.92z"/>
          </svg>
        </div>
        <div>
          <div class="text">+62 899 6977 888</div>
          <div class="sub">Mobile</div>
        </div>
      </div>
    </a>

    <a href="https://wa.me/16096160899" target="_blank" style="text-decoration:none">
      <div class="row">
        <div class="icon whatsapp">
          <svg viewBox="0 0 32 32">
            <path d="M19.11 17.21c-.28-.14-1.64-.81-1.89-.9-.25-.09-.43-.14-.61.14-.18.28-.70.90-.86 1.09-.16.18-.32.21-.60.07-.28-.14-1.18-.43-2.25-1.38-.83-.74-1.39-1.66-1.55-1.94-.16-.28-.02-.43.12-.57.12-.12.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.35-.02-.49-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.46h-.53c-.18 0-.46.07-.70.35-.25.28-.92.90-.92 2.20s.94 2.55 1.07 2.73c.14.18 1.85 2.83 4.48 3.97.63.27 1.12.43 1.50.55.63.20 1.20.17 1.65.10.50-.07 1.64-.67 1.87-1.31.23-.64.23-1.19.16-1.31-.07-.11-.25-.18-.53-.32zM16 3C8.82 3 3 8.60 3 15.50c0 2.73.95 5.26 2.53 7.30L4 29l6.40-1.68c1.94 1.03 4.16 1.61 5.60 1.61 7.18 0 13-5.60 13-12.50S23.18 3 16 3z"/>
          </svg>
        </div>
        <div>
          <div class="text">+1 609 616 0899</div>
          <div class="sub">WhatsApp</div>
        </div>
      </div>
    </a>

  </div>
  <!-- Footer telah dihapus -->
</div>

<div class="floating-save">
  <button onclick="openForm()">â¬‡ SAVE CONTACT</button>
</div>

<div class="overlay" id="formOverlay">
  <button class="close-overlay" onclick="closeForm()">Ã—</button>
  <div class="overlay-header">Share Information</div>

  <form onsubmit="sendForm(event)">
    <div class="field">
      <label>Your Name</label>
      <input id="name" required placeholder="Type your name...">
    </div>

    <div class="field">
      <label>Email Address</label>
      <input id="email" type="email" required placeholder="name@example.com">
    </div>

    <div class="field">
      <label>Phone Number</label>
      <input id="phone" required placeholder="+62...">
    </div>

    <button class="submit-btn" id="continueBtn">
      <span class="spinner"></span>
      <span class="btn-text">Download Contact</span>
    </button>
    <div class="privacy">ðŸ”’ Data is processed locally and secure.</div>
  </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
(function(){
  emailjs.init("WcMFHvC566CcQz3Os");
})();

function openForm(){
  document.getElementById('formOverlay').style.display = 'flex';
}

function closeForm(){
  document.getElementById('formOverlay').style.display = 'none';
}

function downloadVCF(){
  const vcf = `BEGIN:VCARD
VERSION:3.0
FN:Andrea Rey Y
TEL;TYPE=CELL:+628996977888
TEL;TYPE=WHATSAPP:+16096160899
END:VCARD`;

  const blob = new Blob([vcf], { type: "text/vcard" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "contact.vcf";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
   
  return new Promise(resolve => setTimeout(resolve, 1500));
}

async function sendForm(e){
  e.preventDefault();
   
  const submitBtn = document.getElementById('continueBtn');
  const btnText = submitBtn.querySelector('.btn-text');
   
  submitBtn.disabled = true;
  submitBtn.classList.add('loading');
  btnText.innerText = 'Processing...';
   
  const nameInput  = document.getElementById("name").value;
  const emailInput = document.getElementById("email").value;
  const phoneInput = document.getElementById("phone").value;

  try {
    await emailjs.send(
      "service_lwfbqfc",
      "template_d5l7weg",
      {
        name: nameInput,
        email: emailInput,
        phone: phoneInput
      }
    );
     
    await downloadVCF();
     
    closeForm();
    e.target.reset();
    alert("Contact saved successfully!");
     
  } catch (error) {
    alert("Failed to send data, but downloading contact anyway.");
    await downloadVCF(); // Tetap download walau email gagal
    console.error(error);
  } finally {
    submitBtn.disabled = false;
    submitBtn.classList.remove('loading');
    btnText.innerText = 'Download Contact';
  }
}
</script>

</body>
</html>
